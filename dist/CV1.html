<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../assets/logo 2.png">
    <title>Hack Talk - To Be A Good Presenter</title>
    <!-- Meta SEO -->
    <meta name="title" content="Hack Talk Page">
    <meta name="description" content="Get started with a free and open-source landing page built with Tailwind CSS and the Flowbite component library.">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../src/output.css">
</head>

<body>
    <header class="sticky left-0 top-0 z-50 w-full">
        <nav class="bg-white py-0 backdrop-blur-md bg-white/90">
            <div class="flex flex-wrap items-center justify-between max-w-screen-xl px-4 mx-auto border-b border-Boulder/10 py-6">
                <a href="#" class="flex items-center">
                    <img src="../assets/logo.svg" class="h-6 mr-3 sm:h-9" alt="HackTalk Logo" />
                </a>
                <div class="flex items-center lg:order-2">
                    <a href="login.html" class="block py-2 mr-6 text-SteelBlue font-medium text-[19px] lg:hover:bg-transparent lg:border-0 lg:p-0">Login</a>
                    <a href="signup.html" class="text-white bg-SteelBlue hover:shadow-md hover:shadow-SteelBlue/20 font-medium rounded-[20px] text-lg px-6 lg:px-[28px] py-[6px] lg:py-[8.2px] sm:mr-2 lg:mr-0 focus:outline-none">Sign
                        Up</a>
                    <button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-SteelBlue rounded-lg lg:hidden focus:outline-none" aria-controls="mobile-menu-2" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2">
                    <ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0">
                        <li>
                            <a href="index.html" class="block py-2 pl-7 pr-[10px] text-Boulder lg:hover:border-b-[2px] hover:border-solid hover:border-SteelBlue text-[17px] lg:hover:text-SteelBlue lg:bg-transparent lg:p-0" aria-current="page">Home</a>
                        </li>
                        <li>
                            <a href="features.html" class="block py-2 pl-7 pr-9 text-Boulder text-[17px] lg:hover:border-b-[2px] hover:border-solid hover:border-SteelBlue lg:hover:bg-transparent lg:border-0 lg:hover:text-SteelBlue lg:p-0">Features</a>
                        </li>
                        <li>
                            <a href="contact.html" class="block py-2 pl-7 pr-9 text-Boulder text-[17px] lg:hover:border-b-[2px] hover:border-solid hover:border-SteelBlue lg:hover:bg-transparent lg:border-0 lg:hover:text-SteelBlue lg:p-0">Contact
                                us</a>
                        </li>
                        <li>
                            <a href="Dashboard.html" class="block py-2 pl-7 pr-9 text-Boulder text-[17px] lg:hover:border-b-[2px] hover:border-solid hover:border-SteelBlue lg:hover:bg-transparent lg:border-0 lg:hover:text-SteelBlue lg:p-0">Setting</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="mt-5 bg-[#FFFFFF] flex flex-col p-[32px_10px_125px_10px] xl:p-[32px_40px_125px_40px] w-full box-sizing-border">
        <div class="m-[0_3.7px_22px_3.7px] flex flex-row justify-between self-start w-full md:w-[812.2px] box-sizing-border">
            <a href="features.html" class="m-[13px_0_5px_0] flex flex-row justify-center w-[23.8px] h-[20px] box-sizing-border">
                <img src="../assets/arrow.svg" class="w-[23.8px] h-[20px]" />
            </a>
        </div>
        <span class="break-words font-['Roboto_Flex'] mb-6 text-center font-semibold md:text-[24px] 2xl:text-[32px] text-[#4692B6]">
            Computer Vision
        </span>
        <div class="m-[0_0_40px_0] xl:m-[0_0_86px_0] inline-block text-center break-words font-['Roboto'] font-semibold w-full text-[16px] lg:text-[18px] 2xl:text-[24px] text-[#676767]">
            Welcome to the world of confident communication. Your journey starts now. Would you like to seize the moment and record your presentation live, or do you have a pre-recorded presentation ready to analyze!
        </div>
        <div class="flex flex-col lg:flex-row gap-[20px_20px] w-full box-sizing-border">
            <div class="mx-auto rounded-[40px] hover:border-solid hover:border-2 hover:border-SteelBlue bg-[#FAFAFA] relative flex flex-col justify-center items-center w-full md:w-[700px] lg:w-[460px] 2xl:w-[620px] h-[550px] md:h-[592px]">
                <img src="../assets/CV1.png" class="m-[0px_1px_20px_0] w-fit md:w-[424px] h-[424px]" />
                <div>
                    <!-- <input type="file" id="UploadBtn" class="hidden"> -->
                    <label for="UploadBtn" id="StartRecording" class="mt-0 rounded-[40px] bg-[#4692B6] relative flex flex-row p-[11px_0_11px_0] w-[420px] md:w-[671px] lg:w-[410px] 2xl:w-[600px] hover:shadow-md hover:shadow-SteelBlue/20 duration-200 box-sizing-border justify-center items-center break-words font-['Roboto_Flex'] font-medium text-[24px] text-[#FFFFFF]">
                        <img src="../assets/Video.png" class="w-[30px] h-[30px] mr-4" /> Start recording
                    </label>
                </div>
            </div>
            <div class="mx-auto rounded-[40px] hover:border-solid hover:border-2 hover:border-SteelBlue bg-[#FAFAFA] relative flex flex-col justify-center items-center w-full md:w-[700px] lg:w-[460px] 2xl:w-[620px] h-[550px] md:h-[592px]">
                <img src="../assets/cv2.png" class="pb-10 m-[0_2px_20px_0] w-fit md:w-[378px] h-[380px]" />
                <div>
                    <input type="file" id="UploadVideoBtn" class="hidden">
                    <label for="UploadVideoBtn" class="mt-11 rounded-[40px] bg-[#4692B6] relative flex flex-row p-[11px_0_11px_0] w-[420px] md:w-[671px] lg:w-[410px] 2xl:w-[600px] hover:shadow-md hover:shadow-SteelBlue/20 duration-200 box-sizing-border justify-center items-center break-words font-['Roboto_Flex'] font-medium text-[24px] text-[#FFFFFF]">
                        <img src="../assets/uploadvideo.png" class="w-[30px] h-[30px] mr-4" /> Upload Video
                    </label>
                </div>
            </div>
        </div>
        <div id="videoContainer" class="hidden">
            <video id="videoPreview" controls></video>
            <button id="saveVideo">Save Video</button>
        </div>

        <div id="Analatics" class="bg-[#FFFFFF] flex p-[32px_40px_30px_40px]  box-sizing-border hidden">
            <div class="relative flex flex-col box-sizing-border">
                <div class="flex flex-col xl:flex-row xl:gap-32 2xl:gap-52 justify-center items-center mb-24 ">
                    <div class="flex flex-col w-full xl:w-[537px]">
                        <div class="rounded-[8px] p-[50px_0_50px_0] flex items-center mx-auto">
                            <div class="circularProgress relative w-[287.19px] h-[287.19px] bg-[#4692B6] rounded-full flex items-center justify-center before:absolute before:content-[''] before:h-[250px] before:w-[250px] before:rounded-full before:bg-[#F2EFEF] ">
                                <span class="text-[#4692B6] font-semibold font-['Roboto_flex'] text-[60px] relative" id="score"></span>
                            </div>
                        </div>
                        <div class="w-full xl:w-[537px] h-[84px] text-center text-[24px] font-semibold font-['Roboto_flex'] text-[#615F5F] mb-12">
                            <p id="reviewAnalisis">
                                <!-- Wonderful! It's not a bad ratio. <br> It's possible to try again to increase the ratio
                                even more and achieve more efficient performance. -->
                            </p>
                        </div>
                        <div class="relative m-[20px_19px_16px_19px] w-full  xl:w-[442px] flex flex-row justify-center mx-auto ">
                            <button onclick="location.href='recorded_video.html'; return false;" id="done" class="rounded-[40px] p-[12px_0_12px_0.5px] w-full  lg:w-[442px]  box-sizing-border bg-[#4692B6] break-words font-['Roboto'] font-medium text-[24px] text-[#FFFFFF] hover:shadow-md hover:shadow-SteelBlue/20 ">
                                Show your recorded video
                            </button>
                        </div>
                    </div>
                    <div class="relative overflow-x-auto  rounded-[40px] mx-auto items-center mt-7 ">
                        <table class="text-[32px] w-[420px] md:w-[600px] lg:w-[900px] xl:w-[550px] h-[643px]">
                            <thead class="text-[#686868] font-['Roboto_flex'] text-center font-semibold bg-[#F0F0F0] h-[80px] w-[651px]">
                                <th>Second</th>
                                <th>Performance</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- Table rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row justify-center">
                    <!-- <div
                        class="relative mx-auto mb-8 md:m-[20px_19px_16px_19px] w-full xl:w-[341px] flex flex-row justify-center ">
                        <button onclick="location.href='CV1.html'; return false;" id="done"
                            class="rounded-[40px] border-[1px_solid_#4692B6] bg-[#FFFFFF] relative flex justify-center p-[12px_0_12px_0.5px] w-full xl:w-[341px]  box-sizing-border  b['Roboto'] hover:shadow-md hover:shadow-SteelBlue/20 border-2 border-[#4692B6] break-words font-['Roboto'] font-medium text-[24px] text-[#4692B6] cursor-pointer ">
                            Try again
                        </button>
                    </div> -->
                    <div class="relative mx-auto md:m-[20px_19px_16px_19px] w-full  xl:w-[341px] flex flex-row justify-center  ">
                        <button onclick="location.href='features.html'; return false;" id="done" class="rounded-[40px] p-[12px_0_12px_0.5px] w-full  xl:w-[341px]  box-sizing-border bg-[#4692B6] break-words font-['Roboto'] font-medium text-[24px] text-[#FFFFFF] hover:shadow-md hover:shadow-SteelBlue/20 ">
                            Done
                        </button>
                    </div>
                </div>
                <a href="rate.html" class="text-[#4692B6] text-center font-semibold text-[24px] font-['Roboto_flex'] mt-10 underline underline-offset-8">Rate
                    Us</a>
            </div>

        </div>


        <script>
            let mediaRecorder;
            let recordedChunks = [];

            document.getElementById('StartRecording').addEventListener('click', async function() {
                const constraints = {
                    video: true
                };

                try {
                    const stream = await navigator.mediaDevices.getUserMedia(constraints);
                    document.getElementById('videoPreview').srcObject = stream;
                    document.getElementById('videoContainer').classList.remove('hidden');

                    mediaRecorder = new MediaRecorder(stream);

                    mediaRecorder.ondataavailable = function(event) {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };

                    mediaRecorder.onstop = async function() {
                        const blob = new Blob(recordedChunks, {
                            type: 'video/mp4'
                        });
                        const formData = new FormData();
                        formData.append('file', blob, 'presentation.mp4');

                        try {
                            const response = await fetch('https://7594-156-203-183-241.ngrok-free.app/video', {
                                method: 'POST',
                                headers: {
                                    'accept': 'application/json'
                                },
                                body: formData
                            });

                            if (response.ok) {
                                console.log('Video uploaded successfully');
                                const analyticsDiv = document.getElementById('Analatics');
                                analyticsDiv.classList.remove('hidden');
                                const data = await response.json();
                                createTableRows(data.results);
                                const score = data.score;
                                document.getElementById('score').textContent = `${score.toFixed(1)}%`;
                            } else {
                                console.error('Failed to upload video');
                            }
                        } catch (error) {
                            console.error('Error uploading video:', error);
                        }
                    };

                    mediaRecorder.start();
                } catch (error) {
                    console.error('Error accessing media devices:', error);
                }
            });

            document.getElementById('saveVideo').addEventListener('click', function() {
                if (mediaRecorder) {
                    mediaRecorder.stop();
                }
            });

            function createTableRows(data) {
                console.warn(data)
                const tbody = document.getElementById('table-body');

                data.forEach(item => {
                    const tr = document.createElement('tr');
                    tr.className = 'table-row text-[#939393] font-semibold bg-[#FAFAFA] h-[38px] w-[104px] text-center'; // Apply class as per your styling

                    // Create and append table cells
                    const td1 = document.createElement('td');
                    td1.textContent = item.time.toFixed(1); // Format time to 1 decimal place
                    tr.appendChild(td1);

                    const td2 = document.createElement('td');
                    td2.textContent = item.body_language_class;
                    tr.appendChild(td2);

                    tbody.appendChild(tr); // Append row to tbody
                });
            }

            document.getElementById('UploadVideoBtn').addEventListener('change', async function(event) {
                const file = event.target.files[0];
                if (file && file.type.startsWith('video/')) {
                    const formData = new FormData();
                    formData.append('file', file, file.name);

                    try {
                        const response = await fetch('https://7594-156-203-183-241.ngrok-free.app/video', {
                            method: 'POST',
                            headers: {
                                'accept': 'application/json'
                            },
                            body: formData
                        });

                        if (response.ok) {
                            console.log('Video uploaded successfully');
                            const analyticsDiv = document.getElementById('Analatics');
                            analyticsDiv.classList.remove('hidden');
                            const data = await response.json();
                            createTableRows(data.results);
                            const score = data.score;
                            document.getElementById('score').textContent = `${score.toFixed(1)}%`;
                            if (score > 80) {
                                document.getElementById('reviewAnalisis').textContent = `Wonderful! It's not a bad ratio. It's possible to try again to increase the ratio even more and achieve more efficient performance.`;
                            } else if (score > 60) {
                                document.getElementById('reviewAnalisis').textContent = `Good! It's a good ratio. It's possible to try again to increase the ratio even more and achieve more efficient performance.`;
                            } else if (score > 40) {
                                document.getElementById('reviewAnalisis').textContent = `Not bad! It's a good ratio. It's possible to try again to increase the ratio even more and achieve more efficient performance.`;
                            } else if (score > 20) {
                                document.getElementById('reviewAnalisis').textContent = `Bad! It's a Bad ratio. It's possible to try again to increase the ratio even more and achieve more efficient performance.`;
                            } else {
                                document.getElementById('reviewAnalisis').textContent = `Very Bad! It's a Very Bad ratio. It's possible to try again to increase the ratio even more and achieve more efficient performance.`;
                            }
                            // createTableRows();
                            // window.location.href = 'cvAnalysis.html';
                        } else {
                            console.error('Failed to upload video');
                        }
                    } catch (error) {
                        console.error('Error uploading video:', error);
                    }
                } else {
                    alert('Please upload a valid video file.');
                }
            });
        </script>

    </div>
</body>

</html>


<!-- {
    "score": 0.0,
    "results": [
        {
            "time": 0.0,
            "frame_number": 0,
            "body_language_class": "bad"
        },
        {
            "time": 1.0,
            "frame_number": 30,
            "body_language_class": "bad"
        },
        {
            "time": 2.0,
            "frame_number": 60,
            "body_language_class": "bad"
        },
        {
            "time": 3.0,
            "frame_number": 90,
            "body_language_class": "bad"
        },
        {
            "time": 4.0,
            "frame_number": 120,
            "body_language_class": "bad"
        },
        {
            "time": 5.0,
            "frame_number": 150,
            "body_language_class": "bad"
        }
    ]
} -->