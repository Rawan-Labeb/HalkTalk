<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="">
    <title>Hack Talk - To Be A Good Presenter</title>
    <!-- Meta SEO -->
    <meta name="title" content="Hack Talk Page">
    <meta name="description" content="Get started with a free and open-source landing page built with Tailwind CSS and the Flowbite component library.">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">

    <link rel="icon" href="../assets/logo 2.png">
    <link rel="stylesheet" href="../src/output.css">
</head>

<body>

    <div class="bg-[#FFFFFF] flex flex-col lg:flex-row p-[0_0_0_0px] w-full box-sizing-border">
        <div class="m-[35px_41px_20px_0px] lg:m-[35px_41px_205px_0px] flex flex-col pl-[40px] box-sizing-border">
            <a href="index.html" class="m-[0_0_126px_0] flex flex-row self-start w-[fit-content] box-sizing-border">
                <img src="../assets/logo 2.png" class="m-[1px_8px_4px_0] w-[40px] h-[40px]" />
                <div class="m-[8px_0_0_0] inline-block break-words font-['Poppins'] font-bold text-[24px] 
                    bg-[linear-gradient(90deg,#60B0D7_50%,#162E39_139.4%)] text-[transparent] bg-clip-text">
                    HackTalk
                </div>
            </a>
            <div class="md:mx-auto 2xl:m-[0_25px_0_0] flex flex-row md:justify-center w-full md:w-[520px] xl:w-[615px] h-full md:h-[520px] 
                xl:h-[615px] box-sizing-border">
                <img src="../assets/signup.jpg" class=" md:mx-auto 2xl:m-[0_25px_0_0] w-full md:w-[520px] xl:w-[615px] h-full md:h-[520px] 
                    xl:h-[615px]" />
            </div>
        </div>
        <div class="bg-[#FAFAFA] relative flex flex-col justify-center items-center p-[60px_54.9px_0_52px] lg:p-[60px_25px_0_23px] 
            xl:p-[60px_9px_0_10px] w-full">
            <div class="m-[0_24.3px_8px_0] inline-block break-words font-['Roboto'] font-semibold text-[30px] xl:text-[40px] text-[#4692B6]">
                Create an account
            </div>
            <div class="m-[0_0_55px_23.9px] inline-block break-words font-['Roboto_Flex'] font-normal text-[18px] xl:text-[24px] text-[#666060]">
                Please sign up to continue using our website
            </div>

            <form id="signup-form" action="#" method="post">
                <div class="field username">
                    <div class="input-area mb-[30px] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px]">
                        <input id="username" type="text" required class="rounded-[40px] bg-[#F1F0E8] m-[0_0_2px_2.9px] p-[21px_32px_20px_32px] 
                            w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px] h-[64px] break-words font-['Roboto'] font-medium 
                            text-[20px] text-[#B1B1B1] focus:text-SteelBlue focus:bg-white focus:outline-SteelBlue" autocomplete="off" placeholder="Full Name" />
                        <div id="usernameError" class="text-[#F14E2E] text-left mb-8 ml-5 text-[13px] md:text-[16px] hidden  ">
                        </div>
                    </div>
                </div>
                <div class="field email">
                    <div class="input-area mb-[30px] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px]">
                        <input id="email" type="email" required class="rounded-[40px] bg-[#F1F0E8] m-[0_0_2px_2.9px] p-[21px_32px_20px_32px] 
                            w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px] h-[64px] break-words font-['Roboto'] font-medium 
                            text-[20px] text-[#B1B1B1] focus:text-SteelBlue focus:bg-white focus:outline-SteelBlue" autocomplete="off" placeholder="Email address" />
                        <div id="emailError" class="text-[#F14E2E] text-left mb-8 ml-5 text-[13px] md:text-[16px] hidden  ">
                        </div>
                    </div>
                </div>
                <div class="field password mb-[30px]">
                    <div class="input-area relative flex items-center  w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px]">
                        <input id="password" type="password" required class="rounded-[40px] bg-[#F1F0E8] m-[0_0_2px_2.9px] 
                            p-[21px_32px_20px_32px] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px] h-[64px] break-words 
                            font-['Roboto'] font-medium text-[20px] text-[#B1B1B1] focus:text-SteelBlue focus:bg-white 
                            focus:outline-SteelBlue" placeholder="Password ">
                        <img id="togglePassword" src="../assets/tabler_eye-closed.svg" class="cursor-pointer absolute top-[35%] left-[75%] 
                            md:left-[86%] lg:top-[25%] lg:left-[80%] xl:top-[30%] xl:left-[88%] 2xl:top-[30%] 2xl:left-[90%]" alt="">
                    </div>
                    <div id="passwordError" class="text-[#F14E2E] text-left mb-8 ml-5 text-[13px] md:text-[16px] hidden"></div>
                </div>
                <div class="field confirmPassword">
                    <div class="input-area mb-[20px] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px]">
                        <input id="confirmPassword" type="password" required class="rounded-[40px] bg-[#F1F0E8] m-[0_0_2px_2.9px] 
                            p-[21px_32px_20px_32px] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px] h-[64px] break-words 
                            font-['Roboto'] font-medium text-[20px] text-[#B1B1B1] focus:text-SteelBlue focus:bg-white 
                            focus:outline-SteelBlue" placeholder=" Confirm password ">
                        <div id="confirmError" class="text-[#F14E2E] text-left mb-8 ml-5 text-[13px] md:text-[16px] hidden"></div>
                    </div>
                </div>

                <div class="relative m-[0_0_16px_0] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px] flex flex-row justify-center">
                    <button type="submit" onclick="checkFormValidity(event)" class="rounded-[40px] bg-[#4692B6] relative m-[20px_0_16px_2.9px] 
                        flex flex-row justify-center p-[12px_0.3px_12px_0] w-full md:w-[660px] lg:w-[350px] xl:w-[550px] 2xl:w-[660px]  
                        box-sizing-border hover:shadow-md hover:shadow-SteelBlue/20 duration-200 break-words font-['Roboto'] 
                        font-medium text-[24px] text-[#FFFFFF]">
                        SignUp
                    </button>
                </div>
            </form>
            <div class="m-[0_0_63px_2.5px] flex flex-col items-center w-full box-sizing-border">
                <div class="sign-txt flex flex-row w-[fit-content] text-center box-sizing-border">
                    <span class="m-[0_2.3px_0_0] break-words font-['Roboto_Flex'] font-medium text-[16px] text-[#999696] text-center">
                            Already have an account ?
                        </span>
                    <a href="login.html" class="break-words font-['Roboto'] font-medium text-[16px] text-[#4692B6]">
                            Login
                        </a>
                </div>
            </div>
            <div class="flex flex-col items-center w-full box-sizing-border">
                <div class="m-[0_0_16.1px_0] flex flex-row justify-between  w-full  box-sizing-border">
                    <div class="bg-[#E1D6D6] m-[10.8px_0_10.2px_0] flex-none 2xl:w-[208.09px]  h-[2px]">
                    </div>
                    <span class="break-words font-['Roboto'] font-medium text-[20px] lg:text-[17px] xl:text-[20px] text-[#8B8B8B]">
                            Or continue with
                        </span>
                    <div class="bg-[#E1D6D6] m-[10.8px_0_10.2px_0] flex-none  2xl:w-[208.09px]  h-[2px]">
                    </div>
                </div>
                <div class="m-[0_0_20px_3.9px] flex flex-row w-[99px] box-sizing-border">
                    <div class=" m-[0_13.7px_0_0] w-[42.7px] h-[42.7px]">
                        <a href="https://www.facebook.com"> <img src="../assets/Facebook (2).png" alt=""></a>
                    </div>
                    <div class="w-[42.7px] h-[42.7px]">
                        <a href="https://www.gamil.com"> <img src="../assets/Google.png" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Function to validate the sign-up form
        function checkFormValidity(event) {
            event.preventDefault();
            const username = document.getElementById('username').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();
            const confirmPassword = document.getElementById('confirmPassword').value.trim();

            const usernameError = document.getElementById('usernameError');
            const emailError = document.getElementById('emailError');
            const passwordError = document.getElementById('passwordError');
            const confirmError = document.getElementById('confirmError');

            // Reset error messages
            usernameError.innerHTML = '';
            emailError.innerHTML = '';
            passwordError.innerHTML = '';
            confirmError.innerHTML = '';

            let isValid = true;

            // Validate username
            if (username === '') {
                usernameError.classList.remove('hidden');
                usernameError.innerHTML = 'Please enter your username.';
                document.getElementById('username').style.border = "1px solid #F14E2E";
                document.getElementById('username').style.outline = "1px solid #F14E2E";
                isValid = false;
            }

            // Validate email
            if (email === '') {
                emailError.classList.remove('hidden');
                emailError.innerHTML = 'Please enter your email address.';
                document.getElementById('email').style.border = "1px solid #F14E2E";
                document.getElementById('email').style.outline = "1px solid #F14E2E";
                isValid = false;
            } else if (!isEmailValid(email)) {
                emailError.classList.remove('hidden');
                emailError.innerHTML = 'Please enter a valid email address.';
                document.getElementById('email').style.border = "1px solid #F14E2E";
                document.getElementById('email').style.outline = "1px solid #F14E2E";
                isValid = false;
            }

            // Validate password
            if (password === '') {
                passwordError.classList.remove('hidden');
                passwordError.innerHTML = 'Please enter a password.';
                document.getElementById('password').style.border = "1px solid #F14E2E";
                document.getElementById('password').style.outline = "1px solid #F14E2E";
                isValid = false;
            } else if (password.length < 8 || !/\d/.test(password) || !/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
                passwordError.classList.remove('hidden');
                passwordError.innerHTML = 'Password must contain at least 1 number or special character.';
                document.getElementById('password').style.border = "1px solid #F14E2E";
                document.getElementById('password').style.outline = "1px solid #F14E2E";
                isValid = false;
            }


            // Validate confirm password
            if (confirmPassword === '') {
                confirmError.classList.remove('hidden');
                confirmError.innerHTML = 'Please confirm your password.';
                document.getElementById('confirmPassword').style.border = "1px solid #F14E2E";
                document.getElementById('confirmPassword').style.outline = "1px solid #F14E2E";
                isValid = false;
            } else if (confirmPassword !== password) {
                confirmError.classList.remove('hidden');
                confirmError.innerHTML = 'Passwords do not match.';
                document.getElementById('confirmPassword').style.border = "1px solid #F14E2E";
                document.getElementById('confirmPassword').style.outline = "1px solid #F14E2E";

                isValid = false;
            }

            // Save data to local storage if the form is valid
            if (isValid) {
                localStorage.setItem('username', username);
                localStorage.setItem('email', email);
                // You may choose not to save the password to local storage for security reasons
                localStorage.setItem('password', password);


            }



            const apiUrl = "https://8815-156-197-151-36.ngrok-free.app/api/v1/register";
            const headers = {
                "Content-Type": "application/json",
            };
            console.log(document.getElementById("username").value)
            console.log(document.getElementById("email").value)
            console.log(document.getElementById("password").value)
            console.log(document.getElementById("confirmPassword").value)
            fetch(apiUrl, {
                    method: "POST",
                    headers: headers,
                    body: JSON.stringify({
                        name: username,
                        email: email,
                        password: password,
                        password_confirmation: confirmPassword
                    })
                })
                .then(response => response.json().then(data => ({
                    status: response.status,
                    body: data
                })))
                .then(data => {
                    if (data.status >= 200 && data.status < 300) {
                        alert("Congratulations, you have an account");
                        window.location.href = "index.html";
                    } else {
                        throw new Error(data.body.error || "Error creating account");
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert("An error occurred. Please try again later.");
                });

        }

        // Function to validate email format
        function isEmailValid(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Hide and Show Password
        const togglePassword = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');

        togglePassword.addEventListener('click', function() {
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                togglePassword.src = '../assets/Eye.svg';
            } else {
                passwordInput.type = 'password';
                togglePassword.src = '../assets/tabler_eye-closed.svg';
            }
        });
    </script>

</body>

</html>